/* Light theme layout styles for collapsible sidebar (HD Academy brand) */
:root {
  --bg: #ffffff;
  --surface: #ffffff;
  --surface-2: #f7f9fc;
  --text: #011831;            /* dark blue */
  --muted: #5b6b7b;           /* neutral text */
  --border: #e3e8ef;          /* light border */
  --primary: #0069cc;         /* blue */
  --accent: rgba(37, 150, 190, 1); /* company accent */
  --dark-blue: #011831;       /* brand dark */
  --shadow: 0 8px 24px rgba(1, 24, 49, 0.08);
  --ring: 0 0 0 3px rgba(0, 105, 204, 0.25);
}

html, body, #root { height: 100%; }
body { margin: 0; background: var(--bg); color: var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji"; overflow: hidden; overscroll-behavior: none; }
html { overscroll-behavior: none; }

/* Full-viewport layout; main content scrolls independently */
.layout { display: grid; grid-template-columns: auto 1fr; height: 100vh; }
/* Desktop collapse animates sidebar width instead of grid columns */

/* Sidebar styles: brand blue background; header on white */
.sidebar { background: var(--primary); color: #ffffff; border-right: 1px solid rgba(255,255,255,0.15); display: flex; flex-direction: column; height: 100vh; position: sticky; top: 0; align-self: start; }
.sidebar a, .sidebar button, .sidebar .section-title, .sidebar li { color: #e8f2ff; }
.sidebar-header { position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 48px 56px 10px 12px; background: #ffffff; color: var(--dark-blue); border-bottom: 1px solid var(--border); }

/* Desktop (â‰¥881px): animate sidebar width on collapse/expand */
@media (min-width: 881px) {
  .sidebar { width: 280px; transition: width 220ms ease; overflow: hidden; }
  .layout.collapsed .sidebar { width: 0; pointer-events: none; }
}

/* Full-width logo under the collapse control */
.brand-logo-wide { display: block; width: 100%; height: auto; max-height: 72px; object-fit: contain; margin-top: 6px; }

/* Bigger heading under the logo, full width */
.brand-heading { width: 100%; text-align: center; font-weight: 800; color: var(--dark-blue); font-size: 20px; line-height: 1.2; letter-spacing: 0.01em; margin: 6px 0 6px; }

/* Prominent icon-only collapse button at top-right of header */
.collapse-btn { position: absolute; top: 10px; right: 10px; background: var(--primary); border: 0; color: #ffffff; border-radius: 10px; padding: 10px 12px; cursor: pointer; font-weight: 800; font-size: 16px; box-shadow: var(--shadow); }
.collapse-btn:hover { filter: brightness(1.05); }
.collapse-btn:focus { outline: none; box-shadow: var(--ring); }

/* Hide the internal collapse button when sidebar is collapsed */
.layout.collapsed .collapse-btn { display: none; }

/* Remove old brand text handling */
.brand { display: none; }

/* Collapsed state completely hides the sidebar content area */
.layout.collapsed .sidebar { overflow: hidden; }

/* Sidebar inner content scrolls only if it overflows, sidebar stays fixed height */
.sidebar-content { padding: 12px; overflow: auto; flex: 1; overscroll-behavior-y: contain; -webkit-overflow-scrolling: touch; }
.sidebar-footer { padding: 10px 12px; font-size: 12px; color: #e0ecff; border-top: 1px solid rgba(255,255,255,0.12); }

/* Main content area scrolls independently of the sidebar */
.content { padding: 24px; padding-bottom: calc(24px + 96px + env(safe-area-inset-bottom)); overflow: auto; background: var(--surface); height: 100vh; overscroll-behavior-y: contain; -webkit-overflow-scrolling: touch; }

/* Avoid overlap between expand button and content on desktop when collapsed */
@media (min-width: 881px) {
  .layout.collapsed .content { padding-left: 72px; }
}

/* Sidebar menu on blue background */
.sidebar-menu ul { list-style: none; padding: 0; margin: 8px 0 16px; }
.sidebar-menu li { color: #e8f2ff; padding: 6px 4px; }
.sidebar-menu li.active { color: #ffffff; font-weight: 600; }
.sidebar-menu li.disabled { opacity: 0.6; }
.sidebar-menu .section-title { font-size: 12px; text-transform: uppercase; letter-spacing: 0.1em; color: #cfe3ff; margin-top: 8px; }
.sidebar-menu .link { background: none; border: none; color: #e8f2ff; cursor: pointer; padding: 0; font: inherit; }
.sidebar-menu .link:hover { color: #ffffff; }
.sidebar-menu .link.active { color: #ffffff; font-weight: 700; }
.small-error { color: #ffd1d1; font-size: 12px; }

/* Floating expand button visible only when collapsed (icon-only, high contrast) */
.expand-toggle { position: fixed; top: 10px; left: 10px; z-index: 1200; background: var(--primary); color: #ffffff; border: 0; border-radius: 10px; padding: 10px 12px; cursor: pointer; box-shadow: var(--shadow); font-weight: 800; font-size: 16px; }
.expand-toggle:focus { outline: none; box-shadow: var(--ring); }
.layout:not(.collapsed) .expand-toggle { display: none; }

/* Backdrop for mobile drawer (fades in/out) */
.backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.35); z-index: 1100; opacity: 0; pointer-events: none; transition: opacity 200ms ease; }
/* Backdrop activation is limited to mobile in the media query below */

@media (max-width: 880px) {
  /* Single-column content; sidebar becomes a drawer overlay */
  .layout { grid-template-columns: 1fr; }
  .layout.collapsed { grid-template-columns: 1fr; }
  .sidebar { position: fixed; top: 0; left: 0; width: 280px; height: 100vh; transform: translateX(-100%); opacity: 0; transition: transform 220ms ease, opacity 220ms ease; z-index: 1150; }
  /* When collapsed on mobile, disable interactions but keep opacity/transform for smooth animation */
  .layout.collapsed .sidebar { pointer-events: none; }
  .layout:not(.collapsed) .sidebar { transform: translateX(0); opacity: 1; pointer-events: auto; }
  /* Show backdrop only when sidebar is open on mobile (activate opacity and interactions) */
  .layout:not(.collapsed) .backdrop { display: block; opacity: 1; pointer-events: auto; }
  /* Mobile: allow expand button to overlap; keep it near top-left so it stays above the search field on initial state */
  .expand-toggle { top: 8px; left: 10px; }
}
